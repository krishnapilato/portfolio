<section id="contact" class="mt-12" data-aos="fade-in">
    <div class="contact-container" data-aos="fade-up" data-aos-delay="100">

        <!-- Map -->
        <div class="map-3d-container" data-aos="zoom-in" data-aos-delay="200">
            <div class="map-3d" id="map-3d"></div>
            <div class="location-pin">
                <div class="pin-pulse"></div>
                <i class="fas fa-map-marker-alt"></i>
            </div>
            <div class="map-overlay"></div>
        </div>

        <!-- Form -->
        <div class="contact-form-container" data-aos="fade-left" data-aos-delay="300">
            <div class="form-header">
                <h2 class="section-title">
                    <span class="title-word">{{ heading }}</span>
                </h2>
                <p class="section-subtitle">{{ subtitle }}</p>
            </div>

            <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
                <div class="form-group floating-label" data-aos="fade-up" data-aos-delay="400">
                    <input id="name" type="text" formControlName="name" required />
                    <label for="name">Your Name</label>
                    <div class="underline"></div>
                </div>

                <div class="form-group floating-label" data-aos="fade-up" data-aos-delay="500">
                    <input id="email" type="email" formControlName="email" required />
                    <label for="email">Email Address</label>
                    <div class="underline"></div>
                </div>

                <div class="form-group floating-label" data-aos="fade-up" data-aos-delay="600">
                    <textarea id="message" formControlName="message" required style="resize: none;"></textarea>
                    <label for="message">Your Message</label>
                    <div class="underline"></div>
                </div>

                <button type="submit" class="submit-btn" [disabled]="contactForm.invalid || isSending"
                    data-aos="fade-up" data-aos-delay="700">
                    <ng-container *ngIf="!isSending && !submitMessage">
                        <span class="btn-text">{{ sendButton }}</span>
                        <span class="btn-icon"><i class="fas fa-paper-plane"></i></span>
                    </ng-container>

                    <ng-container *ngIf="isSending">
                        <span class="btn-text">{{ sendingButton }}</span>
                        <span class="btn-icon"><i class="fas fa-spinner fa-spin"></i></span>
                    </ng-container>

                    <ng-container *ngIf="!isSending && submitMessage">
                        <span class="btn-text">{{ submitMessage }}</span>
                    </ng-container>

                    <span class="btn-hover-effect"></span>
                </button>
            </form>

            <!-- Socials -->
            <div class="social-links flex gap-4 mt-6" data-aos="fade-up" data-aos-delay="800">
                <a *ngFor="let social of socials" [href]="social.url" target="_blank" class="social-icon relative group"
                    [attr.aria-label]="social.name">
                    <i [class]="social.icon"></i>
                    <span class="social-wave"></span>
                    <span
                        class="absolute -top-9 left-1/2 -translate-x-1/2 px-2 py-1 rounded bg-gray-800 text-white text-xs opacity-0 group-hover:opacity-100 transition pointer-events-none z-10 whitespace-nowrap">
                        {{ social.name }}
                    </span>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="mt-12 text-center text-sm text-gray-500">
    <p>
        &copy; {{ currentYear }} <span class="text-primary-500 font-medium">Khova Krishna Pilato</span>.
        Crafted with Angular & TailwindCSS.
    </p>
    <p class="text-xs mt-1 text-gray-600">
        v0.8.5 â€“ Last updated 29 May 2025, 8AM UTC+2
    </p>
</footer>